# 테스트 코드

## 테스트 코드란 무엇인가.

테스트는 소프트웨어의 기능과 동작이 올바르게 작동되는지 검증하는 것을 말하며

이는 소프트웨어의 결합을 찾아내고 수정하는데 있어 높은 생산성을 만들어 준다.

<br/>

## 왜 테스트 코드를 작성해야 하는가?

테스트 코드를 사용하면 여러 긍정적인 요인들이 발생한다.

> [해당 글](https://yozm.wishket.com/magazine/detail/1964/) 에서 잘 정리한 내용이 있어 해당 내용을 인용하여 아래에 정리한다.<br/>
> (정리 못한 내용도 많으니 `다시 들어가서 볼 것`å)

<br/>

### ● 내가 무엇을 만들고 있는지 정확히 인지

테스트 코드 작성을 통해 요구사항의 기능적인 항목들을 정리하고 코너 케이스를 찾게 되며, 이는 문서의 역활을 수행한다.

<br/>

### ● 리펙토링 시, 발생되는 리스크 줄이기

태스트 코드를 작성해 두면, 코드 수정 후에도 기능이 정상적으로 작동되는지 바로 테스트 가능하여, 리펙토링 시 발생되는 비용을 줄일 수 있다.

<br/>

### ● 결합도와 의존성이 낮은 코드 지향

테스트 코드 작성을 통해 의존성이 높은 부분을 개선 및 코드 품질 향상

<br/>
<br/>

# 테스트 코드의 종류

테스트 코드는 `유닛 테스트`, `통합 테스트`, `기능 테스트` 등 다양한 종류가 존재한다.

모든 테스트는 입력값에 따른 결과값과 예측한 값을 비교하여 올바르게 동작하는 지를 검증하며

`대상 범위에 따라` 위와 같이 구별된다.

(일반적으로 대부분의 개발자는 단위 테스트, 통합 테스트를 주로 다룬다.)

<br/>

## ● 유닛[단위] 테스트(Unit Test)

유닛 테스트(Unit Test)는 `Unit(함수, 메서드)` 범위를 가진 테스트를 말하며

`입력값에 따른 '함수'의 출력값`을 예측하는 값과 비교 후 판별한다.

각 테스트들은 `하나의 동작(유닛)만을 명확하게 담아 독립성을 가지도록 작성`하며,(하나의 함수마다 테스트 작성)

만약 그렇지 않고 복잡도가 큰, 의존성을 가지도록 테스트를 작성하는 경우,발생하는 오류의 원인이 어떤 요인에 근거하는지 구분하기가 매우 어려우며, 함수나 메소드 하나의 로직만 수정되어도 다른 함수와 메서드에 영향을 주어 동작을 예측하기가 매우 어려워, 예상치 못한 오류를 초래 할 수 있다.

<br/>

따라서 유닛 테스트는 간단하고 명확하게, `각 유닛[함수 or 메서드 ..] 마다` 범위를 나누어 작성해야하며

그리하면 어떠한 부분에서 문제가 발생되는지, 고칠 부분이 어디인지 명확하게 알수 있고 좋은 코드를 디자인할 수 있을 뿐만 아니라 어떤 함수(메소드)에 변화가 생겼을 때, 그 함수가 안전하게 수행되는지를 보장해주고 같은 함수(메소드)를 다른 종류의 테스트에서도 적용하기 쉽게 만들어 준다.

<br/>

## ● 통합 테스트(Integration Test)

통합 테스트(Integration Test)는 서로 다른 모듈들 간의 상호 작용을 테스트 하는 과정이다.

예를 들어, 신규로 개발한 API 서버 내의 DB 호출 함수가 데이터베이스의 데이터를 잘 호출하고 있는지 작성하는 테스트를 통합 테스트라고 한다.

<br/>

통합 테스트는 보통 모듈 간 인터페이스 테스트, 시스템 레벨 테스트 등의 방법으로 수행된다.

예를 들어, 여러 개의 모듈이 연결된 백엔드 API 웹 애플리케이션의 경우, 서로 다른 모듈들 간의 상호작용을 테스트하기 위해 각 모듈 단위 테스트를 모두 완료한 뒤, 둘 이상의 모듈을 거쳐서 동작하는 API 테스트 시나리오를 기반으로 통합 테스트를 수행한다. 여기서 모듈은 웹 서버, WAS, DBMS, 메세지 브로커(Message Broker), 파일 서버(File Server) 등이 될 수 있다.

단위 테스트에 비해 통합 테스트는 작성하기 어려운 편인데, 그 이유는 모듈 간의 상호작용을 테스트 하기 때문에 각기 다른 모듈의 설정 방법을 알아야 하고, 테스트를 다시 수행할 수 있는 깨끗한 환경으로 되돌려야 하는 경우도 존재하기 때문이다.
또한 통신구간이나 해당 모듈의 환경설정 정보 등 고려해야할 요인이 더 많기 때문이다.

따라서 통합 테스트를 수행 시, 더 많은 리소스와 시간이 필요하며, 오류를 발견하고 수정하는데는 보다 더 많은 노력이 필요하다.

그러나 통합 테스트를 수행하면, 전체적인 소프트웨어 시스템의 신뢰성과 안전성을 높일 수 있다.

GUI 환경에서 통합테스트를 사용 가능한 도구로는 대표적으로, Selenium, Postman, Apache JMeter 등이 있다.

또한 Junit, Jest, Pytest 등 테스트 라이브러리를 이용하여 코드 기반으로 작성 할 수도 있다.

<br/>

## ● 기능 테스트(Functional Test)

... 아직 정리가 잘 안됨...(글마다 내용이 다르다... )

<br/>
<br/>

# 테스트 코드 사용 시 장단점

## 장점

> ● 코드 품질 향상<br/>
> 테스트 코드를 작성하면 소프트웨어의 품질을 향상시킬 수 있다. 테스트 코드를 통해 버그를 사전에 찾아내고 수정할 수 있으며, 이는 개발자가 신뢰할 수 있는 코드를 작성할 수 있게 도와준다.
>
> ● 회귀 테스트<br/>
> 코드 변경이나 업데이트 시, 기존 기능이 올바르게 작동하는지 확인할 수 있다. 이를 통해 의도치 않은 결과나 버그를 빠르게 발견하고 수정 가능케 한다.
>
> ● 문서화<br/>
> 테스트 코드는 개발자가 기능의 동작 방식을 이해하는 데 도움이 되는 문서로 사용할 수 있다. 테스트 코드를 통해 코드의 예상 동작을 명확하게 확인할 수 있어, 개발자 간의 커뮤니케이션 향상에도 도움을 준다.
>
> ● 리팩토링 지원<br/>
> 테스트 코드가 존재하면 유지보수 시에 발생되는 비용을 줄일 수 있다. 이는 테스트 코드를 통해 리팩토링 후에도 이전 기능들 정상적으로 작동하는지 테스트를 통해 바로 확인 가능하기 때문이다.

<br/>
<br/>

그러나 테스트 코드에도 장점만 있는 것은 아니다. 테스트 코드를 작성하려면 시간이 들고, 이를 관리하는 시간과 비용도 필요하다. 또한 프로젝트의 규모와 만드는 시스템의 수명을 함께 고려해야 한다.

<br/>
<br/>

## 단점

> ● 개발 시간 증가<br/>
> 테스트 코드를 작성하면 개발 시간이 증가한다.. 이는 초기 개발 비용이 증가하는 요인이 될 수 있으나, 장기적으로는 버그 수정 및 유지 보수 비용 절감으로 이어진다.
> (일시적인 단점?)
>
> ● 불완전한 테스트<br/>
> 모든 시나리오를 고려한 테스트 코드를 작성하기 어렵다. 이로 인해 일부 버그가 테스트를 통과하게 될 수 있다.
>
> ● 오버 엔지니어링<br/>
> 테스트 코드 작성에 과도한 시간과 노력을 투자하게 되면, 오버 엔지니어링으로 이어져 개발 속도 저하와 비효율적인 리소스 사용을 초래할 수 있다.
>
> ● 유지 보수 비용<br/>
> 테스트 코드 역시 유지 보수가 필요한 코드로 소프트웨어의 기능이 변경되거나 확장될 때마다 테스트 코드도 함께 수정해야 한다. 이로 인해 추가적인 유지 보수 비용이 발생된다.
>
> ● 학습 곡선<br/>
> 테스트 프레임워크와 테스트 작성 방법을 익히는데 시간이 걸린다. 팀 구성원이 테스트 작성에 익숙하지 않은 경우, 학습과 적용에 시간이 소요되며 이로 인해 개발 속도가 저하될 수 있다.

<br/>
<br/>

시스템을 유지 보수하는데 드는 전체 시간과 노력을 고려하면, 테스트 코드 작성에 소요되는 시간과 노력의 비중은 크지 않다고 한다.

따라서 테스트 코드는 작성하는 것이 개발하는데 있어서 더 많은 이점을 가져다 주기에, 왠만해서는 테스트 코드를 작성하면서 개발하자

---

Reference)<br/>
https://yozm.wishket.com/magazine/detail/1964/<br/>
https://cjwoov.tistory.com/9<br/>
